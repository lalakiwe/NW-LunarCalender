<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <head>
    <link type="text/css" rel="stylesheet" href="css/vcal.css" />
    <link id="skin-steel" title="Steel" type="text/css" rel="stylesheet" href="css/steel.css" />
    <script src="js/vcal.js"></script>
    <script src="js/lunar.js"></script>
  </head>
  <body style="background-color: #fff">

    <table>
      <tr>
        <td valign="top" style="width: 30em;">
          <div id="cont"></div>
          <script type="text/javascript">
            var VCAL = Calendar.setup({
                    cont: "cont",
                    weekNumbers: false,
                    showTime: false,
                    bottomBar:false,
                    min: 15830101
            })
          </script>

        <td valign="top" style="padding-left: 1em">
          <table class="properties">
            <tr>
              <td>
                <textarea id="f_selection" style="width: 30em; height: 13em"></textarea>
                <script type="text/javascript">//<![CDATA[
                  VCAL.addEventListener("onSelect", function(){
                        var ta = document.getElementById("f_selection");
			var date = this.selection.get();
			var year = Math.floor(date / 10000) ;
			var month = Math.floor(( date - year * 10000 ) /100 ) ;
			var day = Math.floor(( date - year * 10000 - month * 100) ) ;
			var lunar = solarToLunar(year, month, day);
			ta.value = "";
			ta.value += "日期: " + year + "/" + month + "/" + day + " 星期" + lunar.weekday + "\n";
			ta.value += "星座: " + lunar.zodiac + "\n";
			ta.value += "生肖: " + lunar.shengxiao + "\n";
			ta.value += "農曆: " + lunar.ganzhi + "年 " + "民國"+ (year-1911)+ "年 " + lunar.cmonth + lunar.cday + "\n";
			if(lunar.yi) ta.value += "宜: " + lunar.yi + "\n";
			if(lunar.ji) ta.value += "忌: " + lunar.ji + "\n";
			ta.value += "節氣: " + lunar.sterm + "\n";
			if(lunar.holiday) ta.value += "節日: " + lunar.holiday + "\n";
			if(lunar.choliday) ta.value += "節日: " + lunar.choliday + "\n";
                  });
                //]]></script>
              </td>
            </tr>

          </table>
        </td>
      </tr>
    </table>

  </body>
</html>
